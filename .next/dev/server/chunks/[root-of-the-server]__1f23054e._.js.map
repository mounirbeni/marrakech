{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\r\n\r\nconst prismaClientSingleton = () => {\r\n    return new PrismaClient()\r\n}\r\n\r\ndeclare global {\r\n    var prisma: undefined | ReturnType<typeof prismaClientSingleton>\r\n}\r\n\r\nconst prisma = globalThis.prisma ?? prismaClientSingleton()\r\n\r\nexport default prisma\r\n\r\nif (process.env.NODE_ENV !== 'production') globalThis.prisma = prisma\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC1B,OAAO,IAAI,6IAAY;AAC3B;AAMA,MAAM,SAAS,WAAW,MAAM,IAAI;uCAErB;AAEf,wCAA2C,WAAW,MAAM,GAAG"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/app/api/admin/bookings/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\r\nimport prisma from '@/lib/prisma'\r\n\r\nexport async function GET() {\r\n    try {\r\n        const bookings = await prisma.booking.findMany({\r\n            orderBy: {\r\n                createdAt: 'desc'\r\n            }\r\n        })\r\n        return NextResponse.json(bookings)\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Failed to fetch bookings' }, { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function PATCH(request: Request) {\r\n    try {\r\n        const body = await request.json()\r\n        const { id, status } = body\r\n\r\n        const booking = await prisma.booking.update({\r\n            where: { id },\r\n            data: { status }\r\n        })\r\n\r\n        return NextResponse.json(booking)\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Failed to update booking' }, { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function DELETE(request: Request) {\r\n    try {\r\n        const { searchParams } = new URL(request.url)\r\n        const id = searchParams.get('id')\r\n\r\n        if (!id) {\r\n            return NextResponse.json({ error: 'Booking ID is required' }, { status: 400 })\r\n        }\r\n\r\n        await prisma.booking.delete({\r\n            where: { id }\r\n        })\r\n\r\n        return NextResponse.json({ message: 'Booking deleted successfully' })\r\n    } catch (error) {\r\n        return NextResponse.json({ error: 'Failed to delete booking' }, { status: 500 })\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AAEO,eAAe;IAClB,IAAI;QACA,MAAM,WAAW,MAAM,iIAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;YAC3C,SAAS;gBACL,WAAW;YACf;QACJ;QACA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ;AAEO,eAAe,MAAM,OAAgB;IACxC,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,GAAG;QAEvB,MAAM,UAAU,MAAM,iIAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YACxC,OAAO;gBAAE;YAAG;YACZ,MAAM;gBAAE;YAAO;QACnB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC7B,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ;AAEO,eAAe,OAAO,OAAgB;IACzC,IAAI;QACA,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,KAAK,aAAa,GAAG,CAAC;QAE5B,IAAI,CAAC,IAAI;YACL,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAyB,GAAG;gBAAE,QAAQ;YAAI;QAChF;QAEA,MAAM,iIAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YACxB,OAAO;gBAAE;YAAG;QAChB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAA+B;IACvE,EAAE,OAAO,OAAO;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAClF;AACJ"}}]
}