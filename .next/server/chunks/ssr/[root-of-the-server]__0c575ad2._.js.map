{"version":3,"sources":["../../../../src/lib/prisma.ts","../../../../src/app/experiences/ExperiencesClient.tsx/__nextjs-internal-proxy.mjs","../../../../src/app/experiences/page.tsx"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\r\n\r\nconst prismaClientSingleton = () => {\r\n    return new PrismaClient()\r\n}\r\n\r\ndeclare global {\r\n    var prisma: undefined | ReturnType<typeof prismaClientSingleton>\r\n}\r\n\r\nconst prisma = globalThis.prisma ?? prismaClientSingleton()\r\n\r\nexport default prisma\r\n\r\nif (process.env.NODE_ENV !== 'production') globalThis.prisma = prisma\r\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/experiences/ExperiencesClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/experiences/ExperiencesClient.tsx\",\n    \"default\",\n);\n","\r\nimport prisma from \"@/lib/prisma\";\r\nimport ExperiencesClient from \"./ExperiencesClient\";\r\nimport { Activity } from \"@/lib/types\";\r\n\r\nexport const dynamic = 'force-dynamic'; // Ensure real-time updates\r\n\r\nexport default async function ExperiencesPage() {\r\n    const services = await prisma.service.findMany({\r\n        orderBy: { createdAt: 'desc' }\r\n    });\r\n\r\n    // Map Prisma Service to Activity type\r\n    const activities: Activity[] = services.map(service => ({\r\n        id: service.id,\r\n        title: service.title,\r\n        price: service.price,\r\n        rating: service.rating,\r\n        reviews: service.reviews,\r\n        category: service.category,\r\n        image: service.images[0] || \"\",\r\n        duration: service.duration,\r\n        features: service.features,\r\n        location: service.location,\r\n        tags: service.tags,\r\n        images: service.images,\r\n        host: service.host as any || { name: \"Marrakech Host\", image: \"/localexpert.jpg\" },\r\n        description: service.description,\r\n        included: service.included,\r\n        whatToBring: service.whatToBring,\r\n        itinerary: service.itinerary as any || [],\r\n        packages: [], // Not yet in DB, can add later if needed\r\n        packageCategories: []\r\n    }));\r\n\r\n    return <ExperiencesClient initialActivities={activities} />;\r\n}\r\n"],"names":[],"mappings":"shBAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAUA,IAAM,EAAS,WAAW,MAAM,EAPrB,EAOyB,EAPrB,EAAA,YAAY,kBASZ,kCCVA,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,2SAA6S,EAC1U,0EACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,uRAAyR,EACtT,sDACA,kICJJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAKe,eAAe,IAM1B,IAAM,EAAyB,CALd,MAAM,EAAA,OAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAC3C,QAAS,CAAE,UAAW,MAAO,CACjC,EAAA,EAGwC,GAAG,CAAC,IAAY,CACpD,GAAI,EAD+C,AACvC,EAAE,CACd,MAAO,EAAQ,KAAK,CACpB,MAAO,EAAQ,KAAK,CACpB,OAAQ,EAAQ,MAAM,CACtB,QAAS,EAAQ,OAAO,CACxB,SAAU,EAAQ,QAAQ,CAC1B,MAAO,EAAQ,MAAM,CAAC,EAAE,EAAI,GAC5B,SAAU,EAAQ,QAAQ,CAC1B,SAAU,EAAQ,QAAQ,CAC1B,SAAU,EAAQ,QAAQ,CAC1B,KAAM,EAAQ,IAAI,CAClB,OAAQ,EAAQ,MAAM,CACtB,KAAM,EAAQ,IAAI,EAAW,CAAE,KAAM,iBAAkB,MAAO,kBAAmB,EACjF,YAAa,EAAQ,WAAW,CAChC,SAAU,EAAQ,QAAQ,CAC1B,YAAa,EAAQ,WAAW,CAChC,UAAW,EAAQ,SAAS,EAAW,EAAE,CACzC,SAAU,EAAE,CACZ,kBAAmB,EAAE,CACzB,CAAC,EAED,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAiB,CAAA,CAAC,kBAAmB,GACjD,kCA/BuB,iBAAiB,2BAA2B","ignoreList":[1]}