{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/components/admin/AdminSidebar.tsx"],"sourcesContent":["'use client'\r\n\r\nimport Link from 'next/link'\r\nimport { usePathname } from 'next/navigation'\r\nimport { LayoutDashboard, Calendar, Settings, LogOut, Package, MessageSquare, Users, Shield } from 'lucide-react'\r\nimport { cn } from '@/lib/utils'\r\nimport { Button } from '@/components/ui/button'\r\nimport { ThemeToggle } from '@/components/shared/ThemeToggle'\r\n\r\nconst sidebarItems = [\r\n    {\r\n        title: 'Dashboard',\r\n        href: '/admin',\r\n        icon: LayoutDashboard,\r\n    },\r\n    {\r\n        title: 'Bookings',\r\n        href: '/admin/bookings',\r\n        icon: Calendar,\r\n    },\r\n    {\r\n        title: 'Calendar',\r\n        href: '/admin/calendar',\r\n        icon: Calendar,\r\n    },\r\n    {\r\n        title: 'Services',\r\n        href: '/admin/services',\r\n        icon: Package,\r\n    },\r\n    {\r\n        title: 'Complaints',\r\n        href: '/admin/complaints',\r\n        icon: MessageSquare,\r\n    },\r\n    {\r\n        title: 'Customers',\r\n        href: '/admin/customers',\r\n        icon: Users,\r\n    },\r\n    {\r\n        title: 'Settings',\r\n        href: '/admin/settings',\r\n        icon: Settings,\r\n    },\r\n]\r\n\r\ninterface AdminSidebarProps {\r\n    onClose?: () => void\r\n}\r\n\r\nexport function AdminSidebar({ onClose }: AdminSidebarProps) {\r\n    const pathname = usePathname()\r\n\r\n    return (\r\n        <div className=\"flex h-full w-full flex-col border-r bg-card/50 backdrop-blur-xl\">\r\n            {/* Header */}\r\n            <div className=\"flex h-16 items-center border-b px-6\">\r\n                <Link href=\"/admin\" className=\"flex items-center gap-2 font-bold text-xl tracking-tight\">\r\n                    <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground\">\r\n                        <Shield className=\"h-5 w-5\" />\r\n                    </div>\r\n                    <span>AdminPanel</span>\r\n                </Link>\r\n            </div>\r\n\r\n            {/* Navigation */}\r\n            <div className=\"flex-1 overflow-y-auto py-6 px-4\">\r\n                <nav className=\"space-y-1.5\">\r\n                    {sidebarItems.map((item) => {\r\n                        const isActive = pathname === item.href\r\n                        return (\r\n                            <Link key={item.href} href={item.href} onClick={onClose}>\r\n                                <div\r\n                                    className={cn(\r\n                                        'group flex items-center rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200 outline-none hover:bg-muted',\r\n                                        isActive\r\n                                            ? 'bg-primary/10 text-primary hover:bg-primary/15'\r\n                                            : 'text-muted-foreground hover:text-foreground'\r\n                                    )}\r\n                                >\r\n                                    <item.icon className={cn(\r\n                                        \"mr-3 h-5 w-5 transition-colors\",\r\n                                        isActive ? \"text-primary\" : \"text-muted-foreground group-hover:text-foreground\"\r\n                                    )} />\r\n                                    {item.title}\r\n                                    {isActive && (\r\n                                        <div className=\"ml-auto h-1.5 w-1.5 rounded-full bg-primary\" />\r\n                                    )}\r\n                                </div>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                </nav>\r\n            </div>\r\n\r\n            {/* Footer */}\r\n            <div className=\"border-t p-4 space-y-4\">\r\n                <div className=\"flex items-center justify-between px-2\">\r\n                    <span className=\"text-xs font-medium text-muted-foreground\">Theme</span>\r\n                    <ThemeToggle />\r\n                </div>\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    className=\"w-full justify-start rounded-xl text-muted-foreground hover:bg-destructive/10 hover:text-destructive transition-colors h-11 px-4\"\r\n                    onClick={async () => {\r\n                        await fetch('/api/auth/logout', { method: 'POST' })\r\n                        window.location.href = '/admin/login'\r\n                    }}\r\n                >\r\n                    <LogOut className=\"mr-3 h-4 w-4\" />\r\n                    Sign Out\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,eAAe;IACjB;QACI,OAAO;QACP,MAAM;QACN,MAAM,+OAAe;IACzB;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,sNAAQ;IAClB;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,sNAAQ;IAClB;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,mNAAO;IACjB;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,yOAAa;IACvB;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,6MAAK;IACf;IACA;QACI,OAAO;QACP,MAAM;QACN,MAAM,sNAAQ;IAClB;CACH;AAMM,SAAS,aAAa,EAAE,OAAO,EAAqB;IACvD,MAAM,WAAW,IAAA,iJAAW;IAE5B,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,uKAAI;oBAAC,MAAK;oBAAS,WAAU;;sCAC1B,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC,gNAAM;gCAAC,WAAU;;;;;;;;;;;sCAEtB,8OAAC;sCAAK;;;;;;;;;;;;;;;;;0BAKd,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;8BACV,aAAa,GAAG,CAAC,CAAC;wBACf,MAAM,WAAW,aAAa,KAAK,IAAI;wBACvC,qBACI,8OAAC,uKAAI;4BAAiB,MAAM,KAAK,IAAI;4BAAE,SAAS;sCAC5C,cAAA,8OAAC;gCACG,WAAW,IAAA,yHAAE,EACT,4HACA,WACM,mDACA;;kDAGV,8OAAC,KAAK,IAAI;wCAAC,WAAW,IAAA,yHAAE,EACpB,kCACA,WAAW,iBAAiB;;;;;;oCAE/B,KAAK,KAAK;oCACV,0BACG,8OAAC;wCAAI,WAAU;;;;;;;;;;;;2BAfhB,KAAK,IAAI;;;;;oBAoB5B;;;;;;;;;;;0BAKR,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAK,WAAU;0CAA4C;;;;;;0CAC5D,8OAAC,0JAAW;;;;;;;;;;;kCAEhB,8OAAC,4IAAM;wBACH,SAAQ;wBACR,WAAU;wBACV,SAAS;4BACL,MAAM,MAAM,oBAAoB;gCAAE,QAAQ;4BAAO;4BACjD,OAAO,QAAQ,CAAC,IAAI,GAAG;wBAC3B;;0CAEA,8OAAC,oNAAM;gCAAC,WAAU;;;;;;4BAAiB;;;;;;;;;;;;;;;;;;;AAMvD"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/components/admin/Notifications.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useState } from 'react'\r\nimport useSWR from 'swr'\r\nimport { Bell } from 'lucide-react'\r\nimport {\r\n    DropdownMenu,\r\n    DropdownMenuContent,\r\n    DropdownMenuItem,\r\n    DropdownMenuLabel,\r\n    DropdownMenuSeparator,\r\n    DropdownMenuTrigger,\r\n} from '@/components/ui/dropdown-menu'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport { Notification } from '@/types/admin'\r\nimport { formatDistanceToNow } from 'date-fns'\r\nimport { useRouter } from 'next/navigation'\r\n\r\nconst fetcher = async (url: string) => {\r\n    const res = await fetch(url)\r\n    return res.json()\r\n}\r\n\r\nexport function Notifications() {\r\n    const { data: notifications, mutate } = useSWR<Notification[]>('/api/admin/notifications', fetcher, {\r\n        refreshInterval: 30000 // Poll every 30 seconds\r\n    })\r\n    const router = useRouter()\r\n    const [isOpen, setIsOpen] = useState(false)\r\n\r\n    const unreadCount = notifications?.filter(n => !n.read).length || 0\r\n\r\n    const handleNotificationClick = (notification: Notification) => {\r\n        setIsOpen(false)\r\n        if (notification.link) {\r\n            router.push(notification.link)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <DropdownMenu open={isOpen} onOpenChange={setIsOpen}>\r\n            <DropdownMenuTrigger asChild>\r\n                <Button variant=\"ghost\" size=\"icon\" className=\"relative\">\r\n                    <Bell className=\"h-5 w-5\" />\r\n                    {unreadCount > 0 && (\r\n                        <Badge\r\n                            variant=\"destructive\"\r\n                            className=\"absolute -top-1 -right-1 h-5 w-5 justify-center rounded-full p-0 text-[10px]\"\r\n                        >\r\n                            {unreadCount}\r\n                        </Badge>\r\n                    )}\r\n                </Button>\r\n            </DropdownMenuTrigger>\r\n            <DropdownMenuContent align=\"end\" className=\"w-80\">\r\n                <DropdownMenuLabel>Notifications</DropdownMenuLabel>\r\n                <DropdownMenuSeparator />\r\n                <div className=\"max-h-[300px] overflow-y-auto\">\r\n                    {notifications?.length === 0 ? (\r\n                        <div className=\"p-4 text-center text-sm text-muted-foreground\">\r\n                            No new notifications\r\n                        </div>\r\n                    ) : (\r\n                        notifications?.map((notification) => (\r\n                            <DropdownMenuItem\r\n                                key={notification.id}\r\n                                className=\"flex flex-col items-start gap-1 p-3 cursor-pointer\"\r\n                                onClick={() => handleNotificationClick(notification)}\r\n                            >\r\n                                <div className=\"flex w-full items-center justify-between\">\r\n                                    <span className=\"font-semibold text-sm\">{notification.title}</span>\r\n                                    <span className=\"text-xs text-muted-foreground\">\r\n                                        {formatDistanceToNow(new Date(notification.createdAt), { addSuffix: true })}\r\n                                    </span>\r\n                                </div>\r\n                                <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n                                    {notification.message}\r\n                                </p>\r\n                            </DropdownMenuItem>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            </DropdownMenuContent>\r\n        </DropdownMenu>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAQA;AACA;AAEA;AACA;AAjBA;;;;;;;;;;AAmBA,MAAM,UAAU,OAAO;IACnB,MAAM,MAAM,MAAM,MAAM;IACxB,OAAO,IAAI,IAAI;AACnB;AAEO,SAAS;IACZ,MAAM,EAAE,MAAM,aAAa,EAAE,MAAM,EAAE,GAAG,IAAA,yKAAM,EAAiB,4BAA4B,SAAS;QAChG,iBAAiB,MAAM,wBAAwB;IACnD;IACA,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,MAAM,cAAc,eAAe,OAAO,CAAA,IAAK,CAAC,EAAE,IAAI,EAAE,UAAU;IAElE,MAAM,0BAA0B,CAAC;QAC7B,UAAU;QACV,IAAI,aAAa,IAAI,EAAE;YACnB,OAAO,IAAI,CAAC,aAAa,IAAI;QACjC;IACJ;IAEA,qBACI,8OAAC,4JAAY;QAAC,MAAM;QAAQ,cAAc;;0BACtC,8OAAC,mKAAmB;gBAAC,OAAO;0BACxB,cAAA,8OAAC,4IAAM;oBAAC,SAAQ;oBAAQ,MAAK;oBAAO,WAAU;;sCAC1C,8OAAC,0MAAI;4BAAC,WAAU;;;;;;wBACf,cAAc,mBACX,8OAAC,0IAAK;4BACF,SAAQ;4BACR,WAAU;sCAET;;;;;;;;;;;;;;;;;0BAKjB,8OAAC,mKAAmB;gBAAC,OAAM;gBAAM,WAAU;;kCACvC,8OAAC,iKAAiB;kCAAC;;;;;;kCACnB,8OAAC,qKAAqB;;;;;kCACtB,8OAAC;wBAAI,WAAU;kCACV,eAAe,WAAW,kBACvB,8OAAC;4BAAI,WAAU;sCAAgD;;;;;mCAI/D,eAAe,IAAI,CAAC,6BAChB,8OAAC,gKAAgB;gCAEb,WAAU;gCACV,SAAS,IAAM,wBAAwB;;kDAEvC,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAK,WAAU;0DAAyB,aAAa,KAAK;;;;;;0DAC3D,8OAAC;gDAAK,WAAU;0DACX,IAAA,yKAAmB,EAAC,IAAI,KAAK,aAAa,SAAS,GAAG;oDAAE,WAAW;gDAAK;;;;;;;;;;;;kDAGjF,8OAAC;wCAAE,WAAU;kDACR,aAAa,OAAO;;;;;;;+BAXpB,aAAa,EAAE;;;;;;;;;;;;;;;;;;;;;;AAoBpD"}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,8OAAC,6KAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,yHAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 424, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/components/admin/AdminHeader.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Sheet, SheetContent, SheetTrigger, SheetTitle, SheetHeader } from \"@/components/ui/sheet\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Menu, Search, Slash } from \"lucide-react\"\r\nimport { AdminSidebar } from '@/components/admin/AdminSidebar'\r\nimport { Notifications } from '@/components/admin/Notifications'\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { usePathname } from \"next/navigation\"\r\nimport React from \"react\"\r\nimport { Separator } from \"@/components/ui/separator\"\r\nimport {\r\n    Breadcrumb,\r\n    BreadcrumbItem,\r\n    BreadcrumbLink,\r\n    BreadcrumbList,\r\n    BreadcrumbPage,\r\n    BreadcrumbSeparator,\r\n} from \"@/components/ui/breadcrumb\"\r\n\r\nexport function AdminHeader() {\r\n    const pathname = usePathname()\r\n    const [sheetOpen, setSheetOpen] = React.useState(false)\r\n\r\n    // Generate breadcrumbs from path\r\n    const segments = pathname.split('/').filter(Boolean)\r\n    const breadcrumbs = segments.map((segment, index) => {\r\n        const href = `/${segments.slice(0, index + 1).join('/')}`\r\n        const label = segment.charAt(0).toUpperCase() + segment.slice(1)\r\n        return { href, label, isLast: index === segments.length - 1 }\r\n    })\r\n\r\n    return (\r\n        <header className=\"sticky top-0 z-30 flex h-16 items-center gap-4 border-b bg-background/80 px-6 backdrop-blur-md transition-all\">\r\n            <div className=\"flex items-center gap-4 md:hidden\">\r\n                <Sheet open={sheetOpen} onOpenChange={setSheetOpen}>\r\n                    <SheetTrigger asChild>\r\n                        <Button variant=\"ghost\" size=\"icon\" className=\"-ml-3\">\r\n                            <Menu className=\"h-5 w-5\" />\r\n                            <span className=\"sr-only\">Toggle menu</span>\r\n                        </Button>\r\n                    </SheetTrigger>\r\n                    <SheetContent side=\"left\" className=\"p-0 w-72 border-r-0\">\r\n                        <SheetTitle className=\"sr-only\">Navigation</SheetTitle>\r\n                        <AdminSidebar onClose={() => setSheetOpen(false)} />\r\n                    </SheetContent>\r\n                </Sheet>\r\n            </div>\r\n\r\n            <div className=\"flex flex-1 items-center gap-4\">\r\n                <Breadcrumb className=\"hidden md:flex\">\r\n                    <BreadcrumbList>\r\n                        {breadcrumbs.map((item, index) => (\r\n                            <React.Fragment key={item.href}>\r\n                                <BreadcrumbItem>\r\n                                    {item.isLast ? (\r\n                                        <BreadcrumbPage>{item.label}</BreadcrumbPage>\r\n                                    ) : (\r\n                                        <BreadcrumbLink href={item.href}>{item.label}</BreadcrumbLink>\r\n                                    )}\r\n                                </BreadcrumbItem>\r\n                                {index < breadcrumbs.length - 1 && <BreadcrumbSeparator />}\r\n                            </React.Fragment>\r\n                        ))}\r\n                    </BreadcrumbList>\r\n                </Breadcrumb>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n                <div className=\"relative hidden sm:block w-full max-w-sm\">\r\n                    <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground\" />\r\n                    <Input\r\n                        type=\"search\"\r\n                        placeholder=\"Search...\"\r\n                        className=\"w-64 rounded-xl bg-muted/50 pl-9 focus-visible:bg-background transition-colors\"\r\n                    />\r\n                </div>\r\n\r\n                <Separator orientation=\"vertical\" className=\"h-6 hidden sm:block\" />\r\n\r\n                <Notifications />\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAVA;;;;;;;;;;;;AAoBO,SAAS;IACZ,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,WAAW,aAAa,GAAG,gNAAK,CAAC,QAAQ,CAAC;IAEjD,iCAAiC;IACjC,MAAM,WAAW,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;IAC5C,MAAM,cAAc,SAAS,GAAG,CAAC,CAAC,SAAS;QACvC,MAAM,OAAO,CAAC,CAAC,EAAE,SAAS,KAAK,CAAC,GAAG,QAAQ,GAAG,IAAI,CAAC,MAAM;QACzD,MAAM,QAAQ,QAAQ,MAAM,CAAC,GAAG,WAAW,KAAK,QAAQ,KAAK,CAAC;QAC9D,OAAO;YAAE;YAAM;YAAO,QAAQ,UAAU,SAAS,MAAM,GAAG;QAAE;IAChE;IAEA,qBACI,8OAAC;QAAO,WAAU;;0BACd,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,0IAAK;oBAAC,MAAM;oBAAW,cAAc;;sCAClC,8OAAC,iJAAY;4BAAC,OAAO;sCACjB,cAAA,8OAAC,4IAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAO,WAAU;;kDAC1C,8OAAC,0MAAI;wCAAC,WAAU;;;;;;kDAChB,8OAAC;wCAAK,WAAU;kDAAU;;;;;;;;;;;;;;;;;sCAGlC,8OAAC,iJAAY;4BAAC,MAAK;4BAAO,WAAU;;8CAChC,8OAAC,+IAAU;oCAAC,WAAU;8CAAU;;;;;;8CAChC,8OAAC,2JAAY;oCAAC,SAAS,IAAM,aAAa;;;;;;;;;;;;;;;;;;;;;;;0BAKtD,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAW,WAAU;8BAClB,cAAA,8OAAC;kCACI,YAAY,GAAG,CAAC,CAAC,MAAM,sBACpB,8OAAC,gNAAK,CAAC,QAAQ;;kDACX,8OAAC;kDACI,KAAK,MAAM,iBACR,8OAAC;sDAAgB,KAAK,KAAK;;;;;iEAE3B,8OAAC;4CAAe,MAAM,KAAK,IAAI;sDAAG,KAAK,KAAK;;;;;;;;;;;oCAGnD,QAAQ,YAAY,MAAM,GAAG,mBAAK,8OAAC;;;;;;+BARnB,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;0BAe9C,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,gNAAM;gCAAC,WAAU;;;;;;0CAClB,8OAAC,0IAAK;gCACF,MAAK;gCACL,aAAY;gCACZ,WAAU;;;;;;;;;;;;kCAIlB,8OAAC,kJAAS;wBAAC,aAAY;wBAAW,WAAU;;;;;;kCAE5C,8OAAC,6JAAa;;;;;;;;;;;;;;;;;AAI9B"}}]
}