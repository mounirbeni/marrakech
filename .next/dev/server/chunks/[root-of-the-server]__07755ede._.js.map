{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\r\n\r\nconst prismaClientSingleton = () => {\r\n    return new PrismaClient()\r\n}\r\n\r\ndeclare global {\r\n    var prisma: undefined | ReturnType<typeof prismaClientSingleton>\r\n}\r\n\r\nconst prisma = globalThis.prisma ?? prismaClientSingleton()\r\n\r\nexport default prisma\r\n\r\nif (process.env.NODE_ENV !== 'production') globalThis.prisma = prisma\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,wBAAwB;IAC1B,OAAO,IAAI,6IAAY;AAC3B;AAMA,MAAM,SAAS,WAAW,MAAM,IAAI;uCAErB;AAEf,wCAA2C,WAAW,MAAM,GAAG"}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/app/api/support/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport prisma from \"@/lib/prisma\";\r\n\r\nexport async function POST(request: Request) {\r\n    try {\r\n        const body = await request.json();\r\n        const { name, email, subject, message, phone } = body;\r\n\r\n        // Basic validation\r\n        if (!name || !email || !subject || !message) {\r\n            return NextResponse.json(\r\n                { error: \"Missing required fields\" },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        // Save to database\r\n        const supportRequest = await prisma.supportRequest.create({\r\n            data: {\r\n                name,\r\n                email,\r\n                phone: phone || null,\r\n                subject,\r\n                message,\r\n                status: \"PENDING\",\r\n            },\r\n        });\r\n\r\n        console.log(\"Support Request Created:\", supportRequest.id);\r\n\r\n        return NextResponse.json(\r\n            {\r\n                success: true,\r\n                message: \"Support request received successfully\",\r\n                id: supportRequest.id\r\n            },\r\n            { status: 200 }\r\n        );\r\n    } catch (error) {\r\n        console.error(\"Support API Error:\", error);\r\n        return NextResponse.json(\r\n            { error: \"Internal server error\" },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAgB;IACvC,IAAI;QACA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG;QAEjD,mBAAmB;QACnB,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,WAAW,CAAC,SAAS;YACzC,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAA0B,GACnC;gBAAE,QAAQ;YAAI;QAEtB;QAEA,mBAAmB;QACnB,MAAM,iBAAiB,MAAM,iIAAM,CAAC,cAAc,CAAC,MAAM,CAAC;YACtD,MAAM;gBACF;gBACA;gBACA,OAAO,SAAS;gBAChB;gBACA;gBACA,QAAQ;YACZ;QACJ;QAEA,QAAQ,GAAG,CAAC,4BAA4B,eAAe,EAAE;QAEzD,OAAO,gJAAY,CAAC,IAAI,CACpB;YACI,SAAS;YACT,SAAS;YACT,IAAI,eAAe,EAAE;QACzB,GACA;YAAE,QAAQ;QAAI;IAEtB,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}