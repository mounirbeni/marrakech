{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/components/admin/AdminHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminHeader = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminHeader() from the server but AdminHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/AdminHeader.tsx <module evaluation>\",\n    \"AdminHeader\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,sEACA","ignoreList":[0]}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/components/admin/AdminHeader.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminHeader = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminHeader() from the server but AdminHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/AdminHeader.tsx\",\n    \"AdminHeader\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,kDACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/components/admin/AdminSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminSidebar() from the server but AdminSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/AdminSidebar.tsx <module evaluation>\",\n    \"AdminSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,uEACA","ignoreList":[0]}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/components/admin/AdminSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminSidebar() from the server but AdminSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/admin/AdminSidebar.tsx\",\n    \"AdminSidebar\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,mDACA","ignoreList":[0]}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/lib/auth.ts"],"sourcesContent":["\r\nimport { SignJWT, jwtVerify } from 'jose';\r\nimport bcrypt from 'bcryptjs';\r\nimport { cookies } from 'next/headers';\r\n\r\nconst JWT_SECRET = new TextEncoder().encode(\r\n    process.env.JWT_SECRET || 'default-secret-key-change-this'\r\n);\r\n\r\nexport async function hashPassword(password: string): Promise<string> {\r\n    return await bcrypt.hash(password, 10);\r\n}\r\n\r\nexport async function comparePassword(plain: string, hashed: string): Promise<boolean> {\r\n    return await bcrypt.compare(plain, hashed);\r\n}\r\n\r\nexport interface UserPayload {\r\n    id: string;\r\n    email: string;\r\n    role: string;\r\n    name?: string | null;\r\n    [key: string]: unknown;\r\n}\r\n\r\nexport async function signJWT(payload: UserPayload): Promise<string> {\r\n    return new SignJWT(payload)\r\n        .setProtectedHeader({ alg: 'HS256' })\r\n        .setIssuedAt()\r\n        .setExpirationTime('1h')\r\n        .sign(JWT_SECRET);\r\n}\r\n\r\nexport async function verifyJWT(token: string): Promise<UserPayload | null> {\r\n    try {\r\n        const { payload } = await jwtVerify(token, JWT_SECRET);\r\n        return payload as UserPayload;\r\n    } catch {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport async function getSession() {\r\n    const cookieStore = await cookies();\r\n    const token = cookieStore.get('auth_token')?.value;\r\n\r\n    if (!token) return null;\r\n\r\n    return await verifyJWT(token);\r\n}\r\n\r\nexport async function loginUser(payload: UserPayload) {\r\n    const token = await signJWT(payload);\r\n    const cookieStore = await cookies();\r\n\r\n    // Set cookie\r\n    cookieStore.set('auth_token', token, {\r\n        httpOnly: true,\r\n        secure: process.env.NODE_ENV === 'production',\r\n        maxAge: 60 * 60, // 1 hour\r\n        path: '/',\r\n    });\r\n}\r\n\r\nexport async function logoutUser() {\r\n    const cookieStore = await cookies();\r\n    cookieStore.delete('auth_token');\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AACA;AAAA;AACA;AACA;;;;AAEA,MAAM,aAAa,IAAI,cAAc,MAAM,CACvC,QAAQ,GAAG,CAAC,UAAU,IAAI;AAGvB,eAAe,aAAa,QAAgB;IAC/C,OAAO,MAAM,4IAAM,CAAC,IAAI,CAAC,UAAU;AACvC;AAEO,eAAe,gBAAgB,KAAa,EAAE,MAAc;IAC/D,OAAO,MAAM,4IAAM,CAAC,OAAO,CAAC,OAAO;AACvC;AAUO,eAAe,QAAQ,OAAoB;IAC9C,OAAO,IAAI,gKAAO,CAAC,SACd,kBAAkB,CAAC;QAAE,KAAK;IAAQ,GAClC,WAAW,GACX,iBAAiB,CAAC,MAClB,IAAI,CAAC;AACd;AAEO,eAAe,UAAU,KAAa;IACzC,IAAI;QACA,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAA,oKAAS,EAAC,OAAO;QAC3C,OAAO;IACX,EAAE,OAAM;QACJ,OAAO;IACX;AACJ;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,MAAM,QAAQ,YAAY,GAAG,CAAC,eAAe;IAE7C,IAAI,CAAC,OAAO,OAAO;IAEnB,OAAO,MAAM,UAAU;AAC3B;AAEO,eAAe,UAAU,OAAoB;IAChD,MAAM,QAAQ,MAAM,QAAQ;IAC5B,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,aAAa;IACb,YAAY,GAAG,CAAC,cAAc,OAAO;QACjC,UAAU;QACV,QAAQ,oDAAyB;QACjC,QAAQ,KAAK;QACb,MAAM;IACV;AACJ;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,YAAY,MAAM,CAAC;AACvB"}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/app/admin/layout.tsx"],"sourcesContent":["import { AdminHeader } from '@/components/admin/AdminHeader'\r\nimport { AdminSidebar } from '@/components/admin/AdminSidebar'\r\nimport { getSession } from '@/lib/auth'\r\n\r\nexport default async function AdminLayout({\r\n    children,\r\n}: {\r\n    children: React.ReactNode\r\n}) {\r\n    const session = await getSession()\r\n\r\n    if (!session) {\r\n        return <div className=\"min-h-screen bg-background\">{children}</div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex h-screen overflow-hidden bg-background\">\r\n            {/* Desktop Sidebar */}\r\n            <aside className=\"hidden md:flex w-72 flex-col bg-background\">\r\n                <AdminSidebar />\r\n            </aside>\r\n\r\n            <div className=\"flex-1 flex flex-col overflow-hidden\">\r\n                <AdminHeader />\r\n\r\n                <main className=\"flex-1 overflow-y-auto bg-muted/10 p-6\">\r\n                    {children}\r\n                </main>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,eAAe,YAAY,EACtC,QAAQ,EAGX;IACG,MAAM,UAAU,MAAM,IAAA,gIAAU;IAEhC,IAAI,CAAC,SAAS;QACV,qBAAO,8OAAC;YAAI,WAAU;sBAA8B;;;;;;IACxD;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAM,WAAU;0BACb,cAAA,8OAAC,2JAAY;;;;;;;;;;0BAGjB,8OAAC;gBAAI,WAAU;;kCACX,8OAAC,yJAAW;;;;;kCAEZ,8OAAC;wBAAK,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAKrB"}}]
}