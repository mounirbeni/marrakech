{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mouni/Desktop/marrakech/src/app/admin/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport useSWR from 'swr'\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card'\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts'\r\nimport { Calendar, DollarSign, Package, Users } from 'lucide-react'\r\nimport { format, subDays } from 'date-fns'\r\n\r\nconst fetcher = async (url: string) => {\r\n    const res = await fetch(url)\r\n    const text = await res.text()\r\n    try {\r\n        return JSON.parse(text)\r\n    } catch (e) {\r\n        console.error(`JSON Parse Error for ${url}:`, text)\r\n        throw e\r\n    }\r\n}\r\n\r\nexport default function AdminDashboardPage() {\r\n    const { data: bookings, error: bookingsError } = useSWR('/api/bookings', fetcher)\r\n    const { data: services, error: servicesError } = useSWR('/api/services', fetcher)\r\n\r\n    if (bookingsError || servicesError) return <div>Failed to load dashboard data</div>\r\n    if (!bookings || !services) return <div>Loading dashboard...</div>\r\n\r\n    // Calculate Stats\r\n    const totalBookings = bookings.length\r\n    const confirmedBookings = bookings.filter((b: any) => b.status === 'CONFIRMED').length\r\n    const totalRevenue = bookings\r\n        .filter((b: any) => b.status === 'CONFIRMED')\r\n        .reduce((acc: number, curr: any) => acc + (curr.totalPrice || 0), 0)\r\n    const activeServices = services.length\r\n\r\n    // Prepare Chart Data (Last 7 days)\r\n    const chartData = Array.from({ length: 7 }).map((_, i) => {\r\n        const date = subDays(new Date(), 6 - i)\r\n        const dateStr = format(date, 'yyyy-MM-dd')\r\n        const dayBookings = bookings.filter((b: any) =>\r\n            format(new Date(b.date), 'yyyy-MM-dd') === dateStr\r\n        ).length\r\n        return {\r\n            name: format(date, 'MMM dd'),\r\n            bookings: dayBookings,\r\n        }\r\n    })\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <h1 className=\"text-3xl font-bold\">Dashboard Overview</h1>\r\n\r\n            {/* Stats Cards */}\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Total Revenue</CardTitle>\r\n                        <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">${totalRevenue.toLocaleString()}</div>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            From confirmed bookings\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Bookings</CardTitle>\r\n                        <Calendar className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{totalBookings}</div>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            {confirmedBookings} confirmed\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Active Services</CardTitle>\r\n                        <Package className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">{activeServices}</div>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            Available for booking\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n                <Card>\r\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n                        <CardTitle className=\"text-sm font-medium\">Conversion Rate</CardTitle>\r\n                        <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"text-2xl font-bold\">\r\n                            {totalBookings > 0\r\n                                ? Math.round((confirmedBookings / totalBookings) * 100)\r\n                                : 0}%\r\n                        </div>\r\n                        <p className=\"text-xs text-muted-foreground\">\r\n                            Booking confirmation rate\r\n                        </p>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n\r\n            {/* Charts & Recent Activity */}\r\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-7\">\r\n                <Card className=\"col-span-4\">\r\n                    <CardHeader>\r\n                        <CardTitle>Bookings Overview</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"pl-2\">\r\n                        <ResponsiveContainer width=\"100%\" height={350}>\r\n                            <BarChart data={chartData}>\r\n                                <CartesianGrid strokeDasharray=\"3 3\" vertical={false} />\r\n                                <XAxis\r\n                                    dataKey=\"name\"\r\n                                    stroke=\"#888888\"\r\n                                    fontSize={12}\r\n                                    tickLine={false}\r\n                                    axisLine={false}\r\n                                />\r\n                                <YAxis\r\n                                    stroke=\"#888888\"\r\n                                    fontSize={12}\r\n                                    tickLine={false}\r\n                                    axisLine={false}\r\n                                    tickFormatter={(value) => `${value}`}\r\n                                />\r\n                                <Tooltip\r\n                                    cursor={{ fill: 'transparent' }}\r\n                                    contentStyle={{ borderRadius: '8px', border: 'none', boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}\r\n                                />\r\n                                <Bar dataKey=\"bookings\" fill=\"#000000\" radius={[4, 4, 0, 0]} />\r\n                            </BarChart>\r\n                        </ResponsiveContainer>\r\n                    </CardContent>\r\n                </Card>\r\n\r\n                <Card className=\"col-span-3\">\r\n                    <CardHeader>\r\n                        <CardTitle>Recent Bookings</CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent>\r\n                        <div className=\"space-y-8\">\r\n                            {bookings.slice(0, 5).map((booking: any) => (\r\n                                <div key={booking.id} className=\"flex items-center\">\r\n                                    <div className=\"ml-4 space-y-1\">\r\n                                        <p className=\"text-sm font-medium leading-none\">{booking.name}</p>\r\n                                        <p className=\"text-sm text-muted-foreground\">\r\n                                            {booking.activityTitle}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"ml-auto font-medium\">\r\n                                        {booking.status === 'CONFIRMED' ? (\r\n                                            <span className=\"text-green-600\">Confirmed</span>\r\n                                        ) : booking.status === 'CANCELLED' ? (\r\n                                            <span className=\"text-red-600\">Cancelled</span>\r\n                                        ) : (\r\n                                            <span className=\"text-yellow-600\">Pending</span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                            {bookings.length === 0 && (\r\n                                <p className=\"text-sm text-muted-foreground\">No recent bookings.</p>\r\n                            )}\r\n                        </div>\r\n                    </CardContent>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;;;AANA;;;;;;AAQA,MAAM,UAAU,OAAO;IACnB,MAAM,MAAM,MAAM,MAAM;IACxB,MAAM,OAAO,MAAM,IAAI,IAAI;IAC3B,IAAI;QACA,OAAO,KAAK,KAAK,CAAC;IACtB,EAAE,OAAO,GAAG;QACR,QAAQ,KAAK,CAAC,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC,EAAE;QAC9C,MAAM;IACV;AACJ;AAEe,SAAS;;IACpB,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,aAAa,EAAE,GAAG,IAAA,4KAAM,EAAC,iBAAiB;IACzE,MAAM,EAAE,MAAM,QAAQ,EAAE,OAAO,aAAa,EAAE,GAAG,IAAA,4KAAM,EAAC,iBAAiB;IAEzE,IAAI,iBAAiB,eAAe,qBAAO,6LAAC;kBAAI;;;;;;IAChD,IAAI,CAAC,YAAY,CAAC,UAAU,qBAAO,6LAAC;kBAAI;;;;;;IAExC,kBAAkB;IAClB,MAAM,gBAAgB,SAAS,MAAM;IACrC,MAAM,oBAAoB,SAAS,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK,aAAa,MAAM;IACtF,MAAM,eAAe,SAChB,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK,aAChC,MAAM,CAAC,CAAC,KAAa,OAAc,MAAM,CAAC,KAAK,UAAU,IAAI,CAAC,GAAG;IACtE,MAAM,iBAAiB,SAAS,MAAM;IAEtC,mCAAmC;IACnC,MAAM,YAAY,MAAM,IAAI,CAAC;QAAE,QAAQ;IAAE,GAAG,GAAG,CAAC,CAAC,GAAG;QAChD,MAAM,OAAO,IAAA,oJAAO,EAAC,IAAI,QAAQ,IAAI;QACrC,MAAM,UAAU,IAAA,kKAAM,EAAC,MAAM;QAC7B,MAAM,cAAc,SAAS,MAAM,CAAC,CAAC,IACjC,IAAA,kKAAM,EAAC,IAAI,KAAK,EAAE,IAAI,GAAG,kBAAkB,SAC7C,MAAM;QACR,OAAO;YACH,MAAM,IAAA,kKAAM,EAAC,MAAM;YACnB,UAAU;QACd;IACJ;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAG,WAAU;0BAAqB;;;;;;0BAGnC,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,2IAAI;;0CACD,6LAAC,iJAAU;gCAAC,WAAU;;kDAClB,6LAAC,gJAAS;wCAAC,WAAU;kDAAsB;;;;;;kDAC3C,6LAAC,mOAAU;wCAAC,WAAU;;;;;;;;;;;;0CAE1B,6LAAC,kJAAW;;kDACR,6LAAC;wCAAI,WAAU;;4CAAqB;4CAAE,aAAa,cAAc;;;;;;;kDACjE,6LAAC;wCAAE,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;kCAKrD,6LAAC,2IAAI;;0CACD,6LAAC,iJAAU;gCAAC,WAAU;;kDAClB,6LAAC,gJAAS;wCAAC,WAAU;kDAAsB;;;;;;kDAC3C,6LAAC,yNAAQ;wCAAC,WAAU;;;;;;;;;;;;0CAExB,6LAAC,kJAAW;;kDACR,6LAAC;wCAAI,WAAU;kDAAsB;;;;;;kDACrC,6LAAC;wCAAE,WAAU;;4CACR;4CAAkB;;;;;;;;;;;;;;;;;;;kCAI/B,6LAAC,2IAAI;;0CACD,6LAAC,iJAAU;gCAAC,WAAU;;kDAClB,6LAAC,gJAAS;wCAAC,WAAU;kDAAsB;;;;;;kDAC3C,6LAAC,sNAAO;wCAAC,WAAU;;;;;;;;;;;;0CAEvB,6LAAC,kJAAW;;kDACR,6LAAC;wCAAI,WAAU;kDAAsB;;;;;;kDACrC,6LAAC;wCAAE,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;kCAKrD,6LAAC,2IAAI;;0CACD,6LAAC,iJAAU;gCAAC,WAAU;;kDAClB,6LAAC,gJAAS;wCAAC,WAAU;kDAAsB;;;;;;kDAC3C,6LAAC,gNAAK;wCAAC,WAAU;;;;;;;;;;;;0CAErB,6LAAC,kJAAW;;kDACR,6LAAC;wCAAI,WAAU;;4CACV,gBAAgB,IACX,KAAK,KAAK,CAAC,AAAC,oBAAoB,gBAAiB,OACjD;4CAAE;;;;;;;kDAEZ,6LAAC;wCAAE,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;;;;;;;0BAQzD,6LAAC;gBAAI,WAAU;;kCACX,6LAAC,2IAAI;wBAAC,WAAU;;0CACZ,6LAAC,iJAAU;0CACP,cAAA,6LAAC,gJAAS;8CAAC;;;;;;;;;;;0CAEf,6LAAC,kJAAW;gCAAC,WAAU;0CACnB,cAAA,6LAAC,6LAAmB;oCAAC,OAAM;oCAAO,QAAQ;8CACtC,cAAA,6LAAC,mKAAQ;wCAAC,MAAM;;0DACZ,6LAAC,iLAAa;gDAAC,iBAAgB;gDAAM,UAAU;;;;;;0DAC/C,6LAAC,iKAAK;gDACF,SAAQ;gDACR,QAAO;gDACP,UAAU;gDACV,UAAU;gDACV,UAAU;;;;;;0DAEd,6LAAC,iKAAK;gDACF,QAAO;gDACP,UAAU;gDACV,UAAU;gDACV,UAAU;gDACV,eAAe,CAAC,QAAU,GAAG,OAAO;;;;;;0DAExC,6LAAC,qKAAO;gDACJ,QAAQ;oDAAE,MAAM;gDAAc;gDAC9B,cAAc;oDAAE,cAAc;oDAAO,QAAQ;oDAAQ,WAAW;gDAA6B;;;;;;0DAEjG,6LAAC,6JAAG;gDAAC,SAAQ;gDAAW,MAAK;gDAAU,QAAQ;oDAAC;oDAAG;oDAAG;oDAAG;iDAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAM3E,6LAAC,2IAAI;wBAAC,WAAU;;0CACZ,6LAAC,iJAAU;0CACP,cAAA,6LAAC,gJAAS;8CAAC;;;;;;;;;;;0CAEf,6LAAC,kJAAW;0CACR,cAAA,6LAAC;oCAAI,WAAU;;wCACV,SAAS,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,wBACvB,6LAAC;gDAAqB,WAAU;;kEAC5B,6LAAC;wDAAI,WAAU;;0EACX,6LAAC;gEAAE,WAAU;0EAAoC,QAAQ,IAAI;;;;;;0EAC7D,6LAAC;gEAAE,WAAU;0EACR,QAAQ,aAAa;;;;;;;;;;;;kEAG9B,6LAAC;wDAAI,WAAU;kEACV,QAAQ,MAAM,KAAK,4BAChB,6LAAC;4DAAK,WAAU;sEAAiB;;;;;mEACjC,QAAQ,MAAM,KAAK,4BACnB,6LAAC;4DAAK,WAAU;sEAAe;;;;;iFAE/B,6LAAC;4DAAK,WAAU;sEAAkB;;;;;;;;;;;;+CAbpC,QAAQ,EAAE;;;;;wCAkBvB,SAAS,MAAM,KAAK,mBACjB,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7E;GA5JwB;;QAC6B,4KAAM;QACN,4KAAM;;;KAFnC"}}]
}