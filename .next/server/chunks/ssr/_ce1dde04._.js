module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},6015,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{className:"relative w-full overflow-auto",children:(0,b.jsx)("table",{ref:e,className:(0,d.cn)("w-full caption-bottom text-sm",a),...c})}));e.displayName="Table";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("thead",{ref:e,className:(0,d.cn)("[&_tr]:border-b",a),...c}));f.displayName="TableHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tbody",{ref:e,className:(0,d.cn)("[&_tr:last-child]:border-0",a),...c}));g.displayName="TableBody",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tfoot",{ref:e,className:(0,d.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...c})).displayName="TableFooter";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("tr",{ref:e,className:(0,d.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...c}));h.displayName="TableRow";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("th",{ref:e,className:(0,d.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...c}));i.displayName="TableHead";let j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("td",{ref:e,className:(0,d.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...c}));j.displayName="TableCell",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("caption",{ref:e,className:(0,d.cn)("mt-4 text-sm text-muted-foreground",a),...c})).displayName="TableCaption",a.s(["Table",()=>e,"TableBody",()=>g,"TableCell",()=>j,"TableHead",()=>i,"TableHeader",()=>f,"TableRow",()=>h])},87532,a=>{"use strict";let b=(0,a.i(70106).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],87532)},72233,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46872),e=a.i(72752);a.i(35112);var f=a.i(11011),g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let e=(0,f.createSlot)(`Primitive.${d}`),g=c.forwardRef((a,c)=>{let{asChild:f,...g}=a;return(0,b.jsx)(f?e:d,{...g,ref:c})});return g.displayName=`Primitive.${d}`,{...a,[d]:g}},{}),h=a.i(87610);function i(){return()=>{}}var j="Avatar",[k,l]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f);g.displayName=d+"Context";let h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(j),[m,n]=k(j),o=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...f}=a,[h,i]=c.useState("idle");return(0,b.jsx)(m,{scope:e,imageLoadingStatus:h,onImageLoadingStatusChange:i,children:(0,b.jsx)(g.span,{...f,ref:d})})});o.displayName=j;var p="AvatarImage",q=c.forwardRef((a,f)=>{let{__scopeAvatar:j,src:k,onLoadingStatusChange:l=()=>{},...m}=a,o=n(p,j),q=function(a,{referrerPolicy:b,crossOrigin:d}){let f=(0,h.useSyncExternalStore)(i,()=>!0,()=>!1),g=c.useRef(null),j=f?(g.current||(g.current=new window.Image),g.current):null,[k,l]=c.useState(()=>t(j,a));return(0,e.useLayoutEffect)(()=>{l(t(j,a))},[j,a]),(0,e.useLayoutEffect)(()=>{let a=a=>()=>{l(a)};if(!j)return;let c=a("loaded"),e=a("error");return j.addEventListener("load",c),j.addEventListener("error",e),b&&(j.referrerPolicy=b),"string"==typeof d&&(j.crossOrigin=d),()=>{j.removeEventListener("load",c),j.removeEventListener("error",e)}},[j,d,b]),k}(k,m),r=(0,d.useCallbackRef)(a=>{l(a),o.onImageLoadingStatusChange(a)});return(0,e.useLayoutEffect)(()=>{"idle"!==q&&r(q)},[q,r]),"loaded"===q?(0,b.jsx)(g.img,{...m,ref:f,src:k}):null});q.displayName=p;var r="AvatarFallback",s=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:f,...h}=a,i=n(r,e),[j,k]=c.useState(void 0===f);return c.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>k(!0),f);return()=>window.clearTimeout(a)}},[f]),j&&"loaded"!==i.imageLoadingStatus?(0,b.jsx)(g.span,{...h,ref:d}):null});function t(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}s.displayName=r;var u=a.i(68114);function v({className:a,...c}){return(0,b.jsx)(o,{"data-slot":"avatar",className:(0,u.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...c})}function w({className:a,...c}){return(0,b.jsx)(q,{"data-slot":"avatar-image",className:(0,u.cn)("aspect-square size-full",a),...c})}function x({className:a,...c}){return(0,b.jsx)(s,{"data-slot":"avatar-fallback",className:(0,u.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...c})}a.s(["Avatar",()=>v,"AvatarFallback",()=>x,"AvatarImage",()=>w],72233)},66795,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(72596),e=a.i(56711),f=a.i(87532),g=a.i(92258),h=a.i(99570),i=a.i(66718),j=a.i(86304),k=a.i(6015),l=a.i(91119),m=a.i(72233);let n=async a=>{let b=await fetch(a),c=await b.text();try{return JSON.parse(c)}catch(b){throw console.error(`JSON Parse Error for ${a}:`,c),b}};function o(){let[a,o]=(0,c.useState)(""),{data:p,error:q,isLoading:r}=(0,d.default)("/api/admin/customers",n),s=p?.filter(b=>{let c=a.toLowerCase();return b.name?.toLowerCase().includes(c)||b.email.toLowerCase().includes(c)});return q?(0,b.jsx)("div",{children:"Failed to load customers"}):r?(0,b.jsx)("div",{children:"Loading..."}):(0,b.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between space-y-2",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Customers"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"View and manage your registered customers."})]})}),(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsx)(l.CardTitle,{children:"All Customers"}),(0,b.jsx)(l.CardDescription,{children:"A list of all registered users on the platform."})]}),(0,b.jsxs)(l.CardContent,{children:[(0,b.jsx)("div",{className:"flex items-center gap-2 mb-6 max-w-sm",children:(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(f.Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(i.Input,{placeholder:"Search customers...",value:a,onChange:a=>o(a.target.value),className:"pl-8"})]})}),(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(k.Table,{children:[(0,b.jsx)(k.TableHeader,{children:(0,b.jsxs)(k.TableRow,{children:[(0,b.jsx)(k.TableHead,{children:"Customer"}),(0,b.jsx)(k.TableHead,{children:"Source"}),(0,b.jsx)(k.TableHead,{children:"Joined"}),(0,b.jsx)(k.TableHead,{children:"Bookings"}),(0,b.jsx)(k.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsxs)(k.TableBody,{children:[s?.map(a=>(0,b.jsxs)(k.TableRow,{children:[(0,b.jsx)(k.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(m.Avatar,{children:[(0,b.jsx)(m.AvatarImage,{src:`https://avatar.vercel.sh/${a.email}`}),(0,b.jsx)(m.AvatarFallback,{children:a.name?.charAt(0)||"U"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.name||"Unnamed User"}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:a.email})]})]})}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)(j.Badge,{variant:"REGISTERED"===a.source?"default":"secondary",children:a.source||"REGISTERED"})}),(0,b.jsx)(k.TableCell,{children:(0,e.format)(new Date(a.createdAt),"PPP")}),(0,b.jsxs)(k.TableCell,{children:[a._count?.bookings||0," bookings"]}),(0,b.jsx)(k.TableCell,{className:"text-right",children:(0,b.jsxs)(h.Button,{variant:"ghost",size:"sm",onClick:()=>window.location.href=`mailto:${a.email}`,children:[(0,b.jsx)(g.Mail,{className:"mr-2 h-4 w-4"}),"Email"]})})]},a.id)),s?.length===0&&(0,b.jsx)(k.TableRow,{children:(0,b.jsx)(k.TableCell,{colSpan:4,className:"h-24 text-center",children:"No customers found."})})]})]})})]})]})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=_ce1dde04._.js.map